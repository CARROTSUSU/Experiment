<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farming Simulator</title>
    <link rel="stylesheet" href="styles.css"> <!-- Menghubungkan file CSS -->
</head>
<body>

<div class="container">
    <!-- Game Area -->
    <div class="game-area">
        <h2>Peternakan</h2>
        <p>Uang: <span id="money">100</span> Uang</p>
        <h3>Tanam Tanaman</h3>
        <button class="button" onclick="plantCrop()">Tanam Padi</button>
        
        <div class="inventory">
            <h3>Inventory</h3>
            <ul id="inventory-list">
                <!-- Daftar item inventory akan diperbarui di sini -->
            </ul>
        </div>
    </div>

    <!-- Store (Market) -->
    <div class="store">
        <h2>Toko</h2>
        <h3>Beli Alat</h3>
        <button class="button" onclick="buyItem()">Beli Bibit Padi (50 Uang)</button>
        <div class="market">
            <h3>Barang di Toko</h3>
            <ul>
                <li>Padi (50 Uang)</li>
                <li>Alat Penyiram (100 Uang)</li>
            </ul>
        </div>
    </div>
</div>

<script>
// Memuat data dari localStorage
let money = localStorage.getItem('money') ? parseInt(localStorage.getItem('money')) : 100;  // Default uang adalah 100
let inventory = JSON.parse(localStorage.getItem('inventory')) || [];  // Memuat inventory atau membuat array kosong jika belum ada

// Fungsi untuk membeli barang (bibit padi)
function buyItem() {
    if (money >= 50) {
        money -= 50;  // Kurangi uang
        inventory.push('Padi (Bibit)');  // Menambah satu item bibit padi ke inventory
        updateUI();  // Memperbarui tampilan UI
        saveToLocalStorage();  // Menyimpan perubahan ke localStorage
    } else {
        alert('Uang tidak cukup untuk membeli Padi!');
    }
}

// Fungsi untuk menanam tanaman (bibit padi)
function plantCrop() {
    if (inventory.includes('Padi (Bibit)')) {
        inventory.splice(inventory.indexOf('Padi (Bibit)'), 1);  // Hapus bibit padi dari inventory
        alert('Tanaman Padi telah ditanam!');
        updateUI();
        saveToLocalStorage();  // Menyimpan perubahan ke localStorage
    } else {
        alert('Anda belum membeli Bibit Padi!');
    }
}

// Fungsi untuk memperbarui tampilan uang dan inventory
function updateUI() {
    document.getElementById('money').innerText = money;
    const inventoryList = document.getElementById('inventory-list');
    inventoryList.innerHTML = ''; // Menghapus isi inventory

    // Tampilkan jumlah bibit padi di inventory
    const riceCount = inventory.filter(item => item === 'Padi (Bibit)').length;
    const li = document.createElement('li');
    li.textContent = `Bibit Padi: ${riceCount} buah`;
    inventoryList.appendChild(li);
}

// Fungsi untuk menyimpan data ke localStorage
function saveToLocalStorage() {
    localStorage.setItem('money', money);  // Menyimpan uang
    localStorage.setItem('inventory', JSON.stringify(inventory));  // Menyimpan inventory
}

// Inisialisasi UI dengan data dari localStorage
updateUI();
</script>

</body>
</html>
